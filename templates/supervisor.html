{% extends 'content.html' %}
{% block h %}
    {% if messages %}
        <script type="text/javascript">
            toastr.options.positionClass = 'toast-top-center';
            {% for msg in messages %}
                toastr.info('{{ msg.message }}');
            {% endfor %}
        </script>
    {% endif %}
    <script src="/static/js/jquery-2.1.1.js"></script>
    <script src="/static/js/toastr.min.js"></script>
    <link href="/static/css/toastr.min.css" rel="stylesheet"/>
    <!-- /. NAV SIDE  -->
    <div id="page-wrapper">
        <div class="header">
            <h3 class="page-header">
                supervisor集中管理
            </h3>
        </div>
        <div id="panel panel-default">
            <div class="col-md-12">
                <!-- Advanced Tables -->
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div>
                            <div class="col-sm-2">
                                <div class="sub-title">ServerList</div>
                                <input type="input" class="form-control" id="input-search"
                                       placeholder="请输入ip进行搜索" value="">
                                <div id="tree" style="width: 184px"></div>
                            </div>
                            <div class="col-sm-10">
                                <div class="sub-title">Information</div>
                                <table id="table" class="table-striped">
                                    {#                                       class="table table-striped table-bordered table-hover">#}
                                </table>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    </div>
    </div>
    <div id="toolbar" class="btn-group">
        <button id="startAllProcesses" type="button" class="btn btn-default">
            <span class="glyphicon glyphicon-play" aria-hidden="true"></span>startAllProcesses
        </button>
        <button id="stopAllProcesses" type="button" class="btn btn-default">
            <span class="glyphicon glyphicon-stop" aria-hidden="true"></span>stopAllProcesses
        </button>
        <button id="restartService" type="button" class="btn btn-default">
            <span class="glyphicon glyphicon-off" aria-hidden="true"></span>restartService
        </button>
        <button id="reloadConfig" type="button" class="btn btn-default">
            <span class="glyphicon glyphicon-repeat" aria-hidden="true"></span>reloadConfig
        </button>
        <button id="editConfig" type="button" class="btn btn-default" data-toggle="modal"
                data-target="#confModal">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>editConfig
        </button>
    </div>

    <div class="modal fade bs-example-modal-lg" id="tail" tabindex="-1" role="dialog"
         aria-labelledby="myModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;
                    </button>
                    <h4 class="modal-title" id="myModalLabel">logs</h4>
                    <textarea id="log" class="form-control" rows="5" cols=80 readonly
                              style="width: 100%;height: 800px;color: #05a3ff;background-color:#1b1b1b;"></textarea>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade bs-example-modal-lg" id="confModal" tabindex="-1" role="dialog"
         aria-labelledby="myModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;
                    </button>
                    <h4 class="modal-title" id="myModalLabel">edit supervisord.conf</h4>
                </div>
                <div class="modal-body">
                    <textarea id="view" class="form-control" rows="5" cols=80
                              style="width: 100%;height: 600px;color: #05a3ff;background-color:#1b1b1b;"></textarea>
                    <button class="btn btn-default" id="modify"
                            style="margin-left: 45%;margin-top: 15px;color:#fff;background-color:#c20003;border-color:#c20006;border-style:solid">
                        modify
                    </button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block js %}
    <script src="/static/assets/js/jquery-1.10.2.js"></script>
    <script src="/static/assets/js/bootstrap.min.js"></script>
    <script src="/static/assets/js/jquery.metisMenu.js"></script>
    <script src="/static/assets/js/dataTables/bootstrap-table.js"></script>
    <script type="text/javascript" src="/static/js/jquery-ui.js"></script>
    <script src="/static/js/bootstrap-treeview.js"></script>
    <script src="/static/js/supervisor.js"></script>
    <script>
        $(document).ready(function () {
            $("[placeholder='Search']").attr("AUTOCOMPLETE", "off");
            $("[placeholder='Search']").attr("value", "ALL");
        });
    </script>
{% endblock %}

